<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            background: #F0F0F0;
        }
        canvas {
            width: 100%;
            height: 100%;
            background: #F0F0F0;
        }
    </style>
</head>
<body>


<script src="../three.js/three.js"></script>
<script src="../three.js/three.module.js"></script>
<!--type="module"-->
<script>
    // import * as THREE from "../three.js/build/three.module.js";

    (() => {
        /**
         * 创建场景对象Scene
         * @type {Scene}
         */
        const scene = new THREE.Scene();
        const width = window.innerWidth; // 窗口宽度
        const height = window.innerHeight; // 窗口高度

        /**
         * start
         */
        const BoxGeometry = drawBoxGeometry();
        scene.add(BoxGeometry); // 网格模型添加到场景中
        const BoxGeometry1 = drawBoxGeometry1();
        scene.add(BoxGeometry1); // 网格模型添加到场景中
        const BoxGeometry2 = drawBoxGeometry2();
        scene.add(BoxGeometry2); // 网格模型添加到场景中

        // const line = drawLine([BoxGeometry]);
        // scene.add(line); // 连线

        /**
         * 创建网格模型
         * @returns {*}
         */
        function drawBoxGeometry() {
            // const geometry = new THREE.SphereGeometry(60, 40, 40); //创建一个球体几何对象
            const geometry = new THREE.BoxGeometry(10, 100, 10); // 创建一个立方体几何对象Geometry
            const material = new THREE.MeshLambertMaterial({ color: 0x0000ff }); // 材质对象Material
            let cube = new THREE.Mesh(geometry, material); // 网格模型对象Mesh
            cube.position.set(0, 0, 0); // 设置box模型对象的xyz坐标为120,0,0
            return cube;
        }
        function drawBoxGeometry1() {
            // const geometry = new THREE.SphereGeometry(60, 40, 40); //创建一个球体几何对象
            const geometry = new THREE.BoxGeometry(10, 100, 10); // 创建一个立方体几何对象Geometry
            const material = new THREE.MeshLambertMaterial({ color: 0xff00ff }); // 材质对象Material
            let cube = new THREE.Mesh(geometry, material); // 网格模型对象Mesh
            cube.position.set(100, 70, -10); // 设置box模型对象的xyz坐标为120,0,0
            return cube;
        }
        function drawBoxGeometry2() {
            // const geometry = new THREE.SphereGeometry(60, 40, 40); //创建一个球体几何对象
            const geometry = new THREE.BoxGeometry(10, 100, 10); // 创建一个立方体几何对象Geometry
            const material = new THREE.MeshLambertMaterial({ color: 0x0000ff }); // 材质对象Material
            let cube = new THREE.Mesh(geometry, material); // 网格模型对象Mesh
            cube.position.set(-10, 70, 100); // 设置box模型对象的xyz坐标为120,0,0
            return cube;
        }
        function drawLine(meshArr) {
            const material = new THREE.LineBasicMaterial({
                color: 0x0000ff
            });
            let geometry = new THREE.Geometry();
            for (let mesh of meshArr) {
                geometry.vertices.push(
                    new THREE.Vector3(mesh.position.x, mesh.position.y, 0)
                );
            }
            return new THREE.Line(geometry, material);
        }
        /**
         * end
         */

        const point = createLightPoint();
        scene.add(point); // 点光源添加到场景中
        const ambient = createLightAmbient();
        scene.add(ambient);
        let camera = createCamera();
        let renderer = createRenderer();
        renderer.render(scene, camera); // 执行渲染操作   指定场景、相机作为参数

        /**
         * 光源设置
         * @returns {*}
         */
        function createLightPoint() {
            let point = new THREE.PointLight(0xffffff); // 点光源
            point.position.set(400, 200, 300); // 点光源位置
            return point;
        }
        function createLightAmbient() {
            // 环境光
            return new THREE.AmbientLight(0x444444);
        }

        /**
         * 相机设置
         * @returns {*}
         */
        function createCamera() {
            const k = width / height; // 窗口宽高比
            const s = 200; // 三维场景显示范围控制系数，系数越大，显示的范围越大
            // 创建相机对象
            // const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); // 视野角度 长宽比 近截面 远截面
            let camera = new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
            camera.position.set(200, 300, 200); // 设置相机位置
            camera.lookAt(scene.position); // 设置相机方向(指向的场景对象)
            return camera;
        }

        /**
         * 创建渲染器对象
         * @returns {*}
         */
        function createRenderer() {
            let renderer = new THREE.WebGLRenderer();
            renderer.setSize( width, height ); // 设置渲染区域尺寸
            renderer.setClearColor(0xb9d3ff, 1); // 设置背景颜色
            document.body.appendChild(renderer.domElement);
            return renderer;
        }
    })(window);
</script>
</body>
</html>